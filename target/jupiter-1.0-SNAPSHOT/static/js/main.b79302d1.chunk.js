(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(235)},150:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(135),l=a.n(c),o=(a(150),a(38)),i=a(240),s=a(236),u=a(249),m="".concat("","/login"),f=function(e){return fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to log in");return e.json()})},d="".concat("","/register"),h=function(e){return fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to register")})},E="".concat("","/logout"),g=function(){return fetch(E,{method:"POST",credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to log out")})},p="".concat("","/game"),y=function(){return fetch(p).then(function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()})},b="".concat("","/game?game_name="),v="".concat("","/search?game_id="),O=function(e){return fetch("".concat(v).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})},S=function(e){return function(e){return fetch("".concat(b).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})}(e).then(function(e){if(e&&e.id)return O(e.id);throw Error("Fail to find the game")})},w="".concat("","/favorite"),C=function(){return fetch(w,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()})},I="".concat("","/recommendation"),j=function(){return fetch(I,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get recommended item");return e.json()})},P=a(67),F=a(248),k=a(245),T=a(246),R=a(87);var x=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",onClick:function(){c(!0)},icon:r.a.createElement(R.a,null),style:{marginLeft:"20px",marginTop:"20px"}},"Custom Search"),r.a.createElement(F.a,{title:"Custom Search",visible:a,onCancel:function(){c(!1)},footer:null},r.a.createElement(k.a,{name:"custom_search",onFinish:function(e){S(e.game_name).then(function(e){console.log(e)}).catch(function(e){s.b.error(e)})}},r.a.createElement(k.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}]},r.a.createElement(T.a,{placeholder:"Game name"})),r.a.createElement(k.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Search")))))},_=a(257),L=a(258),M=a(140),V=a.n(M);var q=function(e){return e.topGames.map(function(e){return r.a.createElement(u.a.Item,{key:e.id,style:{height:"50px"}},r.a.createElement("img",{alt:"Placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}}),r.a.createElement("span",null,e.name))})},A=a(241),D=a(242),N=a(250),J=a(251),G=a(239),U=a(252),B=a(253);var K=function(e){return e.items.map(function(e){return r.a.createElement(u.a.Item,{key:e.id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"".concat(e.broadcaster_name," - ").concat(e.title)))})},H=u.a.SubMenu;var W=function(e){var t=e.data,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=t.VIDEO,m=t.STREAM,f=t.CLIP;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:"primary",shape:"round",onClick:function(){i(!0)},icon:r.a.createElement(J.a,null)},"My Favorites"),r.a.createElement(N.a,{title:"My Favorites",placement:"right",width:720,visible:l,onClose:function(){i(!1)}},r.a.createElement(u.a,{mode:"inline",defaultOpenKeys:["streams"],style:{height:"100%",borderRight:0},selectable:!1},r.a.createElement(H,{key:"streams",icon:r.a.createElement(G.a,null),title:"Streams"},r.a.createElement(K,{items:m})),r.a.createElement(H,{key:"videos",icon:r.a.createElement(U.a,null),title:"Videos"},r.a.createElement(K,{items:s})),r.a.createElement(H,{key:"clips",icon:r.a.createElement(B.a,null),title:"Clips"},r.a.createElement(K,{items:f})))))},z=a(254),Q=a(255);var X=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",type:"primary",onClick:function(){c(!0)}},"Register"),r.a.createElement(F.a,{title:"Register",visible:a,onCancel:function(){c(!1)},footer:null,destroyOnClose:!0},r.a.createElement(k.a,{name:"normal_register",initialValues:{remember:!0},onFinish:function(e){h(e).then(function(){c(!1),s.b.success("Successfully signed up")}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(k.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(T.a,{prefix:r.a.createElement(z.a,null),placeholder:"Username"})),r.a.createElement(k.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(T.a,{prefix:r.a.createElement(Q.a,null),placeholder:"Password"})),r.a.createElement(k.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}]},r.a.createElement(T.a,{placeholder:"firstname"})),r.a.createElement(k.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}]},r.a.createElement(T.a,{placeholder:"lastname"})),r.a.createElement(k.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Register")))))};var Y=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{shape:"round",onClick:function(){i(!0)},style:{marginRight:"20px"}},"Login"),r.a.createElement(F.a,{title:"Log in",visible:l,onCancel:function(){i(!1)},footer:null,destroyOnClose:!0},r.a.createElement(k.a,{name:"normal_login",onFinish:function(e){f(e).then(function(e){i(!1),s.b.success("Welcome back, ".concat(e.name)),t()}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(k.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(T.a,{prefix:r.a.createElement(z.a,null),placeholder:"Username"})),r.a.createElement(k.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(T.a.Password,{prefix:r.a.createElement(Q.a,null),placeholder:"Password"})),r.a.createElement(k.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Login")))))},Z=i.a.Header;var $=function(e){var t=e.loggedIn,a=e.signoutOnClick,n=e.signinOnSuccess,c=e.data;return r.a.createElement(Z,null,r.a.createElement(A.a,{justify:"space-between"},r.a.createElement(D.a,null,t&&r.a.createElement(W,{data:c})),r.a.createElement(D.a,null,t&&r.a.createElement(P.a,{shape:"round",onClick:a},"Logout"),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{onSuccess:n}),r.a.createElement(X,null)))))},ee=a(233),te=a(84),ae=a(244),ne=a(247),re=a(256),ce=ee.a.TabPane,le="stream",oe="videos",ie="clips",se=function(e,t,a,n){var c="".concat(e.broadcaster_name," - ").concat(e.title),l=a.find(function(t){return t.id===e.id});return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(te.a,{title:l?"Remove from favorite list":"Add to favorite list"},r.a.createElement(P.a,{shape:"circle",icon:l?r.a.createElement(J.a,null):r.a.createElement(re.a,null),onClick:function(){var t;l?(t=e,fetch(w,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:t})}).then(function(e){if(200!==e.status)throw Error("Fail to delete favorite item")})).then(function(){n()}).catch(function(e){s.b.error(e.message)}):function(e){return fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then(function(e){if(200!==e.status)throw Error("Fail to add favorite item")})}(e).then(function(){n()}).catch(function(e){s.b.error(e.message)})}})),r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:450}},r.a.createElement(te.a,{title:c},r.a.createElement("span",null,c))))},ue=function(e,t,a,n){return r.a.createElement(ae.b,{grid:{xs:1,sm:2,md:4,lg:4,xl:6},dataSource:e,renderItem:function(e){return r.a.createElement(ae.b.Item,{style:{marginRight:"20px"}},r.a.createElement(ne.a,{title:se(e,t,a,n)},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:"Placeholder",src:(c=e.thumbnail_url,c.replace("%{height}","252").replace("%{width}","480").replace("{height}","252").replace("{width}","480"))}))));var c}})},me=function(e){var t=e.resources,a=e.loggedIn,n=e.favoriteItems,c=e.favoriteOnChange,l=t.VIDEO,o=t.STREAM,i=t.CLIP,s=n.VIDEO,u=n.STREAM,m=n.CLIP;return r.a.createElement(ee.a,{defaultActiveKey:le},r.a.createElement(ce,{tab:"Streams",key:le,style:{height:"680px",overflow:"auto"},forceRender:!0},ue(o,a,u,c)),r.a.createElement(ce,{tab:"Videos",key:oe,style:{height:"680px",overflow:"auto"},forceRender:!0},ue(l,a,s,c)),r.a.createElement(ce,{tab:"Clips",key:ie,style:{height:"680px",overflow:"auto"},forceRender:!0},ue(i,a,m,c)))},fe=i.a.Sider,de=i.a.Content;var he=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),m=Object(o.a)(l,2),f=m[0],d=m[1],h=Object(n.useState)({VIDEO:[],STREAM:[],CLIP:[]}),E=Object(o.a)(h,2),p=E[0],b=E[1],v=Object(n.useState)({VIDEO:[],STREAM:[],CLIP:[]}),S=Object(o.a)(v,2),w=S[0],I=S[1];return Object(n.useEffect)(function(){y().then(function(e){d(e)}).catch(function(e){s.b.error(e.message)})},[y]),r.a.createElement(i.a,null,r.a.createElement($,{loggedIn:a,signoutOnClick:function(){g().then(function(){c(!1),s.b.success("Successfully Signed out")}).catch(function(e){s.b.error(e.message)})},signinOnSuccess:function(){C().then(function(e){c(!0),I(e)})},data:w}),r.a.createElement(i.a,null,r.a.createElement(fe,{width:300,className:"site-layout-background"},r.a.createElement(x,{onSuccess:function(e){b(e)}}),r.a.createElement(u.a,{mode:"inline",onSelect:function(e){var t=e.key;"Recommendation"!==t?O(t).then(function(e){b(e)}):j().then(function(e){b(e)})},style:{marginTop:"10px"}},r.a.createElement(u.a.Item,{icon:r.a.createElement(_.a,null),key:"Recommendation"},"Recommend for you!"),r.a.createElement(V.a,{icon:r.a.createElement(L.a,null),key:"Popular Games",title:"Popular Games",className:"site-top-game-list"},q({topGames:f})))),r.a.createElement(i.a,{style:{padding:"24px"}},r.a.createElement(de,{className:"site-layout-background",style:{padding:24,margin:0,height:800,overflow:"auto"}},r.a.createElement(me,{favoriteOnChange:function(){C().then(function(e){I(e)}).catch(function(e){s.b.error(e.message)})},resources:p,favoriteItems:w,loggedIn:a})))))},Ee=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,243)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null))),Ee()}},[[143,3,2]]]);
//# sourceMappingURL=main.b79302d1.chunk.js.map